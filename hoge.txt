PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE alembic_version (
	version_num VARCHAR(32) NOT NULL, 
	CONSTRAINT alembic_version_pkc PRIMARY KEY (version_num)
);
INSERT INTO alembic_version VALUES('cde7251d10e6');
CREATE TABLE articles (
	id INTEGER NOT NULL, 
	title TEXT NOT NULL, 
	body TEXT NOT NULL, 
	published BOOLEAN NOT NULL, 
	created_at TIMESTAMP NOT NULL, 
	updated_at TIMESTAMP NOT NULL, 
	PRIMARY KEY (id), 
	CHECK (published IN (0, 1))
);
CREATE TABLE tags (
	name VARCHAR NOT NULL, 
	PRIMARY KEY (name)
);
CREATE TABLE taggings (
	article_id INTEGER NOT NULL, 
	tag_name VARCHAR NOT NULL, 
	FOREIGN KEY(article_id) REFERENCES articles (id), 
	FOREIGN KEY(tag_name) REFERENCES tags (id)
);
COMMIT;
